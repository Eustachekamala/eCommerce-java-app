import { ChevronFirst, MoreVertical } from "lucide-react";
import {createContext, useContext, useState} from "react";

const SideBarContext = createContext();
export function SideBar({children}) {
    const [expanded, setExpanded] = useState(true);
    return (
        <aside className="h-screen">
            <nav className="h-full flex flex-col bg-white border-r shadow-sm">
                <div className="p-4 pb-2 flex justify-between items-center">
                    <img src="data:image/png;base64,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" className={`overflow-hidden transition-all ${expanded ? "w-32" : "w-0"}`} alt={"logo"} />
                    <button onClick={() => setExpanded(curr => !curr)} className="p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100">
                        {expanded ? <ChevronFirst /> : <ChevronFirst />}
                    </button>
                </div>
                <SideBarContext.Provider value={{ expanded }}>
                    <ul className="flex-1 px-3">
                        {children}
                    </ul>
                    <div className="border-t flex p-3">
                        <img src="https://ui-avatars.com/api/?background=c7d2fe&color=3730a3&bold=true" alt={"logo"} className="w-10 h-10 rounded-md" />
                        <div className={`flex justify-between items-center overflow-hidden transition-all ${expanded ? "w-52 ml-3" : "w-0"}`}>
                            <div className="leading-4">
                                <h4 className="font-semibold">John Doe</h4>
                                <span className="text-xs text-gray-600">johndoe@gmail.com</span>
                            </div>
                            <MoreVertical size={20} />
                        </div>
                    </div>
                </SideBarContext.Provider>
            </nav>
        </aside>
    );
}

export function SideBarItem({icon, text, active, alert}){
    const {expanded} = useContext(SideBarContext);
    return (
        <li className={`relative items-center py-2 px-3 my-1
        font-medium rounded-md cursor-pointer transition-colors group
        ${active ? "bg-gradient-to-tr from-indigo-200 to-indigo-100 text-indigo-800" +
            "" : "hover: bg-indigo-50 text-gray-600"}`}>
            {icon}
            <span className={`overflow-hidden transition-all ${expanded ? "w-52" : "w-0"}`}>{text}</span>
            {alert && <div className={`absolute right-2 w-2 h-2 rounded bg-indigo-400 ${expanded ? "" : "top-2"}`}></div>}
            {expanded && <div className={`absolute left-full rounded-md px-2 py-1 ml-6 bg--indigo-100
            text-indigo-800 text-sm invisible opacity-20 -translate-x-3 transition-all group-hover:visible group-hover:opacity-100
            group-hover:translate-x-0`}>

            </div>}
        </li>
    )
}